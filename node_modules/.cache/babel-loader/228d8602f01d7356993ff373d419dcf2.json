{"remainingRequest":"/Users/nashad/Documents/doc/node_modules/thread-loader/dist/cjs.js!/Users/nashad/Documents/doc/node_modules/babel-loader/lib/index.js!/Users/nashad/Documents/doc/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nashad/Documents/doc/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nashad/Documents/doc/src/views/doc.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nashad/Documents/doc/src/views/doc.vue","mtime":1553652635000},{"path":"/Users/nashad/Documents/doc/node_modules/cache-loader/dist/cjs.js","mtime":1627476982034},{"path":"/Users/nashad/Documents/doc/node_modules/thread-loader/dist/cjs.js","mtime":1627476982282},{"path":"/Users/nashad/Documents/doc/node_modules/babel-loader/lib/index.js","mtime":1627476985345},{"path":"/Users/nashad/Documents/doc/node_modules/cache-loader/dist/cjs.js","mtime":1627476982034},{"path":"/Users/nashad/Documents/doc/node_modules/vue-loader/lib/index.js","mtime":1627476982289}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'doc',\n  data: function data() {\n    return {};\n  },\n  props: {\n    docID: String\n  },\n  mounted: function mounted() {\n    firestore.collection(\"pages\").doc(this.docID).onSnapshot(function (doc) {\n      document.querySelector('#input-area').value = doc.data().content;\n    });\n  },\n  methods: {\n    // Go to Dashboard\n    toggleDashboard: function toggleDashboard() {\n      window.location.reload('/');\n    },\n    doc: function doc() {\n      return document.querySelector('#input-area');\n    },\n    savingIndicator: function savingIndicator() {\n      return document.querySelector('#saving-indicator');\n    },\n    // Copy Document Link\n    copyLink: function copyLink() {\n      var copyText = document.querySelector(\"#link-text\");\n      copyText.select();\n      document.execCommand(\"copy\");\n      /* Alert the copied text */\n\n      alert(\"Link copied!\");\n    },\n    // Focus document\n    documentFocused: function documentFocused() {\n      this.doc().classList.toggle('document-focused');\n    },\n    // Blur document\n    documentBlurred: function documentBlurred() {\n      this.doc().classList.toggle('document-focused');\n    },\n    // Retrieve height of textarea\n    inputHeight: function inputHeight() {\n      var height = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      return height || this.doc().offsetHeight;\n    },\n    // Auto expand/contract textarea based on document content\n    expandInput: function expandInput() {\n      var height = this.inputHeight();\n      var charCount = this.doc().value.length; //  Arbitrary number (2350) for now\n\n      if (charCount > 2350) {\n        this.doc().style.height = (height + height * 0.05).toString() + 'px';\n      } else {\n        this.doc().style.height = 'initial';\n      }\n    },\n    // Save to Firebase\n    addToFirebase: function addToFirebase() {\n      firestore.collection('pages').doc(this.docID).set({\n        content: this.doc().value\n      }, {\n        merge: true\n      }).then(function (docRef) {\n        if (docRef) {// will do something here\n        }\n\n        var ind = document.querySelector('#saving-indicator');\n        ind.innerHTML = 'saved!';\n        setTimeout(function () {\n          ind.classList.add('hide');\n          ind.innerHTML = 'saving...';\n        }, 3000);\n      });\n    },\n    processContent: function processContent() {\n      this.savingIndicator().innerHTML = 'saving...';\n      this.savingIndicator().classList.remove('hide');\n      this.addToFirebase();\n    }\n  }\n};",{"version":3,"sources":["doc.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <main class=\"document\">\n        <section class=\"row document-page\" style=\"padding: 10px 0;\">\n            <div class=\"col-md-2\">\n                <a class=\"btn btn-link\" @click=\"toggleDashboard\"\n                    style=\"padding: 0; color: #007bff;\">\n                    <i class=\"fa fa-angle-left\"></i> Return to dashboard\n                </a>\n            </div>\n            <div class=\"col-md-8\">\n                <textarea id=\"input-area\" v-on:focus=\"documentFocused\"\n                    v-on:blur=\"documentBlurred\" v-on:keyup=\"processContent\" class=\"card\"\n                    placeholder=\"Start typing here...\" v-bind:height=\"inputHeight\"\n                    ></textarea>\n            </div>\n            <div class=\"col-md-2\">\n                <div>\n                    <span class=\"badge badge-light hide\" id=\"saving-indicator\">\n                        Saving...\n                    </span>\n                </div>\n                \n                <div id=\"link-share\">\n                    <input type=\"text\" disabled v-bind:value=\"docID\"\n                        class=\"form-control\" id=\"link-text\">\n                    <div>\n                        <button class=\"btn btn-primary btn-block\" @click=\"copyLink\">\n                            share link\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </section>\n    </main>\n</template>\n\n<script>\n    export default {\n        name: 'doc',\n        data() {\n            return {};\n        },\n        props: {\n            docID: String\n        },\n        mounted: function () {\n            firestore.collection(\"pages\").doc(this.docID)\n            .onSnapshot(function(doc) {\n                document.querySelector('#input-area')\n                .value = doc.data().content;\n            });\n        },\n        methods: {\n            // Go to Dashboard\n            toggleDashboard: function () {\n                window.location.reload('/');\n            },\n            doc: function () {\n                return document.querySelector('#input-area');\n            },\n            \n            savingIndicator: function () {\n                return document.querySelector('#saving-indicator');\n            },\n            \n            // Copy Document Link\n            copyLink: function () {\n                let copyText = document.querySelector(\"#link-text\");\n                copyText.select();\n                document.execCommand(\"copy\");\n                \n                /* Alert the copied text */\n                alert(\"Link copied!\");\n            },\n            \n            // Focus document\n            documentFocused: function () {\n                this.doc().classList.toggle('document-focused');\n            },\n            \n            // Blur document\n            documentBlurred: function () {\n                this.doc().classList.toggle('document-focused');\n            },\n            \n            // Retrieve height of textarea\n            inputHeight: function (height=null) {\n                return height || this.doc().offsetHeight;\n            },\n            \n            // Auto expand/contract textarea based on document content\n            expandInput: function () {\n                let height = this.inputHeight();\n                let charCount = this.doc().value.length;\n                \n                //  Arbitrary number (2350) for now\n                if (charCount > 2350) {\n                    this.doc().style.height = (height + (height * 0.05)).toString() + 'px';\n                } else {\n                    this.doc().style.height = 'initial';\n                }\n            },\n            \n            // Save to Firebase\n            addToFirebase: function () {\n                firestore.collection('pages').doc(this.docID).set({\n                    content: this.doc().value\n                }, {merge: true}).then(function(docRef) {\n                    if (docRef) {\n                        // will do something here\n                    }\n                    \n                    let ind = document.querySelector('#saving-indicator');\n                    ind.innerHTML = 'saved!';\n                    \n                    setTimeout( function () {\n                        ind.classList.add('hide');\n                        ind.innerHTML = 'saving...';\n                    }, 3000 );\n                })\n            },\n            \n            processContent: function () {\n                this.savingIndicator().innerHTML = 'saving...';\n                this.savingIndicator().classList.remove('hide');\n                this.addToFirebase();\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    #input-area:focused {\n        border-color: initial !important;\n    }\n    \n    #input-area {\n        outline: none;\n        padding: 20px;\n        width: 100%;\n        font-size: 15px;\n        min-height: calc(100vh - 80px);\n        resize: none;\n        overflow: hidden;\n    }\n    \n    #link-share {\n        width: 100%;\n    }\n    \n    #link-share button {\n        border-top-left-radius: 0;\n        border-top-right-radius: 0;\n    }\n    \n    #link-share input {\n        border-bottom-left-radius: 0;\n        border-bottom-right-radius: 0;\n    }\n</style>"],"sourceRoot":"src/views"}]}